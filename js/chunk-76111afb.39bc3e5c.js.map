{"version":3,"sources":["webpack:///./src/views/OrderInfo.vue?7c29","webpack:///src/views/OrderInfo.vue","webpack:///./src/views/OrderInfo.vue?2cf4","webpack:///./src/views/OrderInfo.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","_m","staticClass","cartProducts","length","_l","cartItem","key","id","type","click","removeCartItem","_v","_s","product","title","staticStyle","font-size","_e","qty","_f","price","total","colspan","cartTotal","cartFinalPrice","directives","name","rawName","value","expression","placeholder","aria-label","aria-describedby","domProps","input","target","composing","coupon_code","addCouponCode","findCoupon","submit","preventDefault","createOrder","for","form","user","class","is-invalid","errors","has","$set","first","cols","rows","staticRenderFns","role","scope","width","OrderInfovue_type_script_lang_js_","data","_ref","cartTotalPrice","status","loadingItem","order","orderId","Object","defineProperty","email","tel","address","message","methods","getCart","api","concat","vm","$http","get","then","response","carts","final_total","console","log","delete","coupon","code","post","success","_this","$validator","validate","result","$router","push","getOrder","computed","i","created","$route","params","views_OrderInfovue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_defineProperty","obj","enumerable","configurable","writable","__webpack_require__","d"],"mappings":"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","file":"js/chunk-76111afb.39bc3e5c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('div',{staticClass:\"row justify-content-center mt-5\"},[_c('div',{staticClass:\"col-md-8\"},[_vm._m(1),(_vm.cartProducts.length != 0)?_c('table',{staticClass:\"table mt-5 ml-auto mr-auto\"},[_vm._m(2),_c('tbody',_vm._l((_vm.cartProducts),function(cartItem){return _c('tr',{key:cartItem.id},[_c('td',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.removeCartItem(cartItem.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',[_vm._v(\"\\n                        \"+_vm._s(cartItem.product.title)+\"\\n                        \"),(cartItem.coupon)?_c('div',{staticClass:\"text-success mt-1\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\" 已套用優惠券\")]):_vm._e()]),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(cartItem.qty))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(cartItem.product.price)))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(cartItem.total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"4\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cartTotal)))])]),(_vm.cartFinalPrice !== _vm.cartTotal)?_c('tr',[_c('td',{staticClass:\"text-right text-primary\",attrs:{\"colspan\":\"4\"}},[_vm._v(\"折扣價\")]),_c('td',{staticClass:\"text-right text-primary\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cartFinalPrice)))])]):_vm._e()])]):_vm._e(),(_vm.cartProducts.length == 0)?_c('div',{staticClass:\"text-center h6 mt-4 text-secondary\"},[_vm._v(\"\\n            目前尚未選購商品唷！\\n        \")]):_vm._e(),_c('div',{staticClass:\"ml-auto mr-auto\"},[(_vm.cartProducts.length != 0)?_c('div',{staticClass:\"input-group ml-auto mr-auto\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addCouponCode}},[_vm._v(\"套用優惠碼\")])])]):_vm._e(),_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.findCoupon))])]),_vm._m(3),_c('div',{staticClass:\"my-5 justify-content-center\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('email')},attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"姓名不能留空。\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('tel')},attrs:{\"type\":\"tel\",\"name\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('tel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"電話不能留空。\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('address')},attrs:{\"type\":\"address\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址不能留空。\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"usercontent\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"usercontent\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_vm._m(4)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-row text-center\"},[_c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n                1. 輸入訂單資料\\n            \")])]),_c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-light alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n                2. 付款\\n            \")])]),_c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-light alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n                3. 完成\\n            \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mt-5 mb-4 border-0\"},[_c('div',{staticClass:\"card-header\"},[_c('h4',{staticClass:\"h4 mb-0 text-center\"},[_vm._v(\"訂單資訊\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\",\"width\":\"80\"}}),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"品名\")]),_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\",\"width\":\"100\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\",\"width\":\"100\"}},[_vm._v(\"單價\")]),_c('th',{staticClass:\"text-center\",attrs:{\"scope\":\"col\",\"width\":\"100\"}},[_vm._v(\"小計\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mt-5 mb-4 border-0\"},[_c('div',{staticClass:\"card-header\"},[_c('h4',{staticClass:\"h4 mb-0 text-center\"},[_vm._v(\"訂購人資訊\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-secondary\"},[_vm._v(\"送出訂單\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <loading :active.sync=\"isLoading\"></loading>\n\n        <div class=\"form-row text-center\">\n            <div class=\"col-12 col-sm\">\n                <div class=\"alert alert-success alert-rounded\" role=\"alert\">\n                    1. 輸入訂單資料\n                </div>\n            </div>\n            <div class=\"col-12 col-sm\">\n                <div class=\"alert alert-light alert-rounded\" role=\"alert\">\n                    2. 付款\n                </div>\n            </div>\n            <div class=\"col-12 col-sm\">\n                <div class=\"alert alert-light alert-rounded\" role=\"alert\">\n                    3. 完成\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row justify-content-center mt-5\">\n            <div class=\"col-md-8\">\n                <div class=\"card mt-5 mb-4 border-0\">\n                    <div class=\"card-header\">\n                        <h4 class=\"h4 mb-0 text-center\">訂單資訊</h4>\n                    </div>\n                </div>\n                <table v-if=\"cartProducts.length != 0\" class=\"table mt-5 ml-auto mr-auto\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\" width=\"80\" class=\"text-center\"></th>\n                    <th scope=\"col\">品名</th>\n                    <th scope=\"col\" width=\"100\" class=\"text-center\">數量</th>\n                    <th scope=\"col\" width=\"100\" class=\"text-center\">單價</th>\n                    <th scope=\"col\" width=\"100\" class=\"text-center\">小計</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"cartItem in cartProducts\" :key=\"cartItem.id\">\n                        <td class=\"text-center\"><button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"removeCartItem(cartItem.id)\"><i class=\"far fa-trash-alt\"></i></button></td>\n                        <td>\n                            {{ cartItem.product.title }}\n                            <div class=\"text-success mt-1\" v-if=\"cartItem.coupon\" style=\"font-size: 12px;\"> 已套用優惠券</div>\n                        </td>\n                        <td class=\"text-center\">{{ cartItem.qty }}</td>\n                        <td class=\"text-right\">{{ cartItem.product.price | currency }}</td>\n                        <td class=\"text-right\">{{ cartItem.total | currency }}</td>\n                    </tr>\n                </tbody>\n                <tfoot>\n                    <tr>\n                        <td colspan=\"4\" class=\"text-right\">總計</td>\n                        <td class=\"text-right\">{{ cartTotal | currency }}</td>\n                    </tr>\n                    <tr v-if=\"cartFinalPrice !== cartTotal\">\n                        <td colspan=\"4\" class=\"text-right text-primary\">折扣價</td>\n                        <td class=\"text-right text-primary\">{{ cartFinalPrice | currency }}</td>\n                    </tr>\n                </tfoot>\n            </table>\n            <div class=\"text-center h6 mt-4 text-secondary\" v-if=\"cartProducts.length == 0\">\n                目前尚未選購商品唷！\n            </div>\n            <div class=\"ml-auto mr-auto\">\n                <div v-if=\"cartProducts.length != 0\" class=\"input-group ml-auto mr-auto\">\n                    <input  v-model=\"coupon_code\" type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\">\n                    <div class=\"input-group-append\">\n                        <button class=\"btn btn-secondary\" type=\"button\" @click=\"addCouponCode\">套用優惠碼</button>\n                    </div>\n                </div>\n                <p class=\"text-danger\">{{ findCoupon }}</p>\n            </div>\n\n                <div class=\"card mt-5 mb-4 border-0\">\n                    <div class=\"card-header\">\n                        <h4 class=\"h4 mb-0 text-center\">訂購人資訊</h4>\n                    </div>\n                </div>\n                <div class=\"my-5 justify-content-center\">\n                    <form @submit.prevent=\"createOrder\">\n                        <div class=\"form-group\">\n                            <label for=\"useremail\">Email</label>\n                            <input type=\"email\" class=\"form-control\" name=\"email\" id=\"useremail\"\n                                :class=\"{'is-invalid': errors.has('email')}\"\n                                v-model=\"form.user.email\" v-validate=\"'required|email'\" placeholder=\"請輸入 Email\">\n                            <span class=\"text-danger\" v-if=\"errors.has('email')\">{{ errors.first('email') }}</span>\n                        </div>\n                    \n                        <div class=\"form-group\">\n                            <label for=\"username\">收件人姓名</label>\n                            <input type=\"text\" class=\"form-control\" name=\"name\" id=\"username\"\n                                :class=\"{'is-invalid': errors.has('name')}\"\n                                v-model=\"form.user.name\" v-validate=\"'required'\" placeholder=\"請輸入姓名\">\n                            <span class=\"text-danger\" v-if=\"errors.has('name')\">姓名不能留空。</span>\n                        </div>\n\n                        <div class=\"form-group\">\n                            <label for=\"usertel\">收件人電話</label>\n                            <input type=\"tel\" class=\"form-control\" name=\"tel\" id=\"usertel\"\n                                :class=\"{'is-invalid': errors.has('tel')}\"\n                                v-model=\"form.user.tel\" v-validate=\"'required'\" placeholder=\"請輸入電話\">\n                            <span class=\"text-danger\" v-if=\"errors.has('tel')\">電話不能留空。</span>\n                        </div>\n                    \n                        <div class=\"form-group\">\n                            <label for=\"useraddress\">收件人地址</label>\n                            <input type=\"address\" class=\"form-control\" name=\"address\" id=\"useraddress\"\n                                :class=\"{'is-invalid': errors.has('address')}\"\n                                v-model=\"form.user.address\" v-validate=\"'required'\" placeholder=\"請輸入地址\">\n                            <span class=\"text-danger\" v-if=\"errors.has('address')\">地址不能留空。</span>\n                        </div>\n                    \n                        <div class=\"form-group\">\n                        <label for=\"usercontent\">留言</label>\n                        <textarea name=\"\" id=\"usercontent\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"form.message\"></textarea>\n                        </div>\n                        <div class=\"text-right\">\n                        <button class=\"btn btn-secondary\">送出訂單</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\n    export default{\n        data(){\n            return{\n                cartProducts: [],\n                cartTotalPrice: 0,\n                cartFinalPrice: 0,\n                isLoading: false,\n                status: {\n                    loadingItem: '',\n                },\n                coupon_code: '',\n                findCoupon: '',\n                order: {\n                    user: {},\n                },\n                orderId: '',\n                isLoading: false,\n                form: {\n                    user: {\n                        name: '',\n                        email: '',\n                        tel: '',\n                        address: '',\n                    },\n                    message: '',\n                }\n            }\n        },\n        methods: {\n            getCart(id){\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n                const vm = this;\n                vm.status.loadingItem = id;\n                this.$http.get(api).then((response) => {\n                    // console.log(response.data)\n                    vm.cartProducts = response.data.data.carts;\n                    vm.cartFinalPrice = response.data.data.final_total;\n                    vm.status.loadingItem = '';\n                    console.log(vm.cartProducts)\n                    // vm.getCart();\n                })\n            },\n            removeCartItem(id){\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`;\n                const vm = this;\n                vm.isLoading = true;\n                this.$http.delete(api).then(() => {\n                vm.isLoading = false;\n                vm.getCart();\n                })\n            },\n            addCouponCode(){\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/coupon`;\n                const vm = this;\n                const coupon = {\n                    code: vm.coupon_code,\n                };\n                vm.isLoading = true;\n                this.$http.post(api, {data: coupon}).then((response) => {\n                    console.log(response.data)\n                    vm.isLoading = false;\n                    vm.getCart();\n                    if(!response.data.success){\n                        vm.findCoupon = response.data.message;\n                    }else{\n                        vm.findCoupon = '';\n                    }\n                })\n            },\n            createOrder(){\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`;\n                const vm = this;\n                const order = vm.form;\n                // vm.isLoading = true;\n                 this.$validator.validate().then((result) => {\n                    if (result) {\n                        this.$http.post(api, {data: order}).then((response) => {\n                            console.log('訂單已建立', response.data)\n                            vm.isLoading = false;\n                            if(response.data.success){\n                                vm.$router.push(`/customer_checkout/payment/${response.data.orderId}`)\n                            }\n                        })\n                    }else{\n                        console.log('表單不完整');\n                    }\n                });\n            },\n            getOrder(){\n                const vm = this;\n                const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${vm.orderId}`;\n                vm.isLoading = true;\n                this.$http.get(api).then((response) => {\n                    console.log(response)\n                    vm.order = response.data.order;\n                    vm.isLoading = false;\n                })\n            },\n        },\n        computed: {\n            cartTotal(){\n                const vm = this;\n                vm.cartTotalPrice = 0; // 增減商品前先歸零以便重新計算total price\n                for(let i = 0; i<vm.cartProducts.length; i++){\n                    vm.cartTotalPrice += vm.cartProducts[i].total;\n                }\n                return vm.cartTotalPrice;\n            }\n        },\n        created(){\n            this.orderId = this.$route.params.orderId;\n            console.log(this.orderId)\n            this.getCart();\n            this.getOrder();\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderInfo.vue?vue&type=template&id=74cca6c1&\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"OrderInfo.vue\"\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}